<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/index}"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head lang="en">
<meta charset="UTF-8">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">


<script type="text/javascript"
	src="https://uicdn.toast.com/tui.pagination/v3.4.0/tui-pagination.js"></script>
<link rel="stylesheet"
	href="https://uicdn.toast.com/tui.pagination/latest/tui-pagination.css" />
<link rel="stylesheet"
	href="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.css" />
<script
	src="https://uicdn.toast.com/tui.date-picker/latest/tui-date-picker.js"></script>
<link rel="stylesheet"
	href="https://uicdn.toast.com/grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/grid/latest/tui-grid.js"></script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


</head>


<th:block layout:fragment="content">
	<div class="container-fluid page-body-wrapper">
		<div class="col-12 grid-margin stretch-card">
			<div class="card">
				<div class="card-body">
					<h1 class="card-title">공통 코드 관리</h1>
					<input id="commCode" name="commCode" type="text" placeholder="공통코드" maxlength='5'>
					<input id="commName" name="commName" type="text" placeholder="공통코드명">
					<input id="commNote" name="commNote" type="text" placeholder="비고">
					<button id="insertBtn" type="button" class="btn btn-primary">등록</button>
					<button id="deleteBtn" type="button" class="btn btn-primary">삭제</button>
					
					
					<div id="grid"></div>
					
				</div>
			</div>
		</div>
	</div>
	
	
		 <div class="modal fade" id="searchModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="searchModal" aria-hidden="true">
	        <div class="modal-dialog modal-lg modal-dialog-centered" style ="width:670px">
	        <div class="modal-content">
	            <div class="modal-header">
	            <h5 class="modal-title" style="padding-right:25px;">세부코드 조회</h5>
	                 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	            </div>

		        <div id="top">
		            <div id="detaGrid" style="height:82px"></div>
		        </div>
				<div id="body" style="z-index : 9999">
		            <button id="modalInsBtn" type="button" class="btn btn-primary" style="margin-left:10px">추가</button>
				</div>
		        <div id="battom">
		        	
		           	<div id="modalGrid"></div>	            
		        </div>
	            <div class="modal-footer">
	            	<button id="modalModBtn" type="button" class="btn btn-primary">저장</button>
	            	<button id="modalDelBtn" type="button" class="btn btn-primary">삭제</button>
	            </div>
	        </div>
	        </div>
	    </div>
	
<script>
var grid = new tui.Grid({
	el : document.getElementById('grid'),
	scrollX : true,
	scrollY : true,
	rowHeaders : [ {type : 'checkbox', header:" "},{type :'rowNum'} ],
	pageOptions : {
		useClient : true,
		perPage : 10
	},
	columns : [ 
	{
		header : '품목코드',
		name : 'itemCode',
		sortingType : 'desc',
		sortable : true
	}, {
		header : '품목명',
		name : 'itemName',
		sortingType : 'desc',
		sortable : true
	}, {
		header : '구분',
		name : 'itemType',
		sortingType : 'desc',
		sortable : true,
	}, {
		header : '단가',
		name : 'unitPrice',	
		sortingType : 'desc',
		sortable : true
	}, {
		header : '판매가격',
		name : 'itemPrice',
		sortingType : 'desc',
		sortable : true
	}, {
		header : '규격',
		name : 'standard',
		sortingType : 'desc',
		sortable : true
	}, {
		header : '단위',
		name : 'unit',
		sortingType : 'desc',
		sortable : true
	}, {
		header : '안전재고',
		name : 'saveMaterial',
		sortingType : 'desc',
		sortable : true
	}
	]
});

$.ajax({
	url : "/itemList",
	method: "get",
	dataType : "json",
	success: function(result){
		grid.resetData(result);
	},
	error: function(reject){
		
	}
	
})

</script>